# Place all the behaviors and hooks related to the matching controller here.
# All this logic will automatically be available in application.js.
# You can use CoffeeScript in this file: http://jashkenas.github.com/coffee-script/

drawVisualization = ->

	formatter = new google.visualization.ColorFormat()
	formatter.addRange(-20000, 0, 'white', 'orange');
	formatter.addRange(20000, null, 'red', '#33ff33');
	formatter.format(dataTable, 2); 



	table = new google.visualization.Table(document.getElementById("table"))
	table.draw(dataTable, {allowHtml: true, showRowNumber: true});
	options =
	title: "Efektywność pracowników"
	width: 900
	height: 700
	vAxis:
	  title: "Efektywność"
	hAxis:
	  title: "Pracownik"
	seriesType: "bars"
	backgroundColor: "transparent"
	# bar.groupWidth: {20%},
	series:
	  0:
	    type: "bars"
	    groupWidth: 40
	series:
	  2:
	    type: "line"
	  1:
	    type: "line"
	isStacked: true

	chart = new google.visualization.ComboChart(document.getElementById('chart_div'))
	chart.draw(dataTable, options);
